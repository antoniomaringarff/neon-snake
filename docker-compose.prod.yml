version: '3.8'

# Production docker-compose override
# Use with: docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d

services:
  api:
    environment:
      NODE_ENV: production
      CORS_ORIGIN: https://neon.snake.sally.ar
    # Remove port mapping in production if using reverse proxy
    # ports:
    #   - "3000:3000"

  db:
    # In production, consider not exposing the database port publicly
    # ports:
    #   - "5432:5432"
    environment:
      POSTGRES_PASSWORD: ${DB_PASSWORD}

  front:
    ports:
      - "80:80"
    # If using external nginx, you might want to remove this port mapping
    # and let nginx handle it

